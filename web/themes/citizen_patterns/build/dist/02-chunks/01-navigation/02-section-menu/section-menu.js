"use strict";(function(a,b){function c(){var b=a(window).outerWidth();980>b?!a(".page-menu-toggle").attr("aria-controls")&&(a(".page-menu-toggle").attr({"aria-controls":"page-menu-wrapper","aria-expanded":"false"}),a("#page-menu-wrapper").attr("aria-hidden","true")):(a(".page-menu-toggle").removeAttr("aria-controls aria-expanded role"),a("#page-menu-wrapper").removeAttr("aria-hidden"))}b.behaviors.pageMenu={attach:function attach(b){a(".block--system-menu.page-menu",b).once("page-menu").each(function(){//mobile toggle
//need doc ready because active-class script fires after theme scripts
a(".page-menu-toggle").click(function(b){b.preventDefault(),760>a(window).outerWidth()&&(a(this).is(".active-nav")?a(this).attr("aria-expanded","false").removeClass("active-nav").find("i").removeClass("fa-times-circle").addClass("fa-bars").closest("#page-menu-title").next("#page-menu-wrapper").attr("aria-hidden","true").slideUp(500):a(this).attr("aria-expanded","true").addClass("active-nav").find("i").removeClass("fa-bars").addClass("fa-times-circle").closest("#page-menu-title").next("#page-menu-wrapper").attr("aria-hidden","false").slideDown(500))}),a(window).on("resize",_.debounce(c,10)).trigger("resize"),a(document).ready(function(){//set button roles, tab indexes and keypresses on sidebar links
a("#page-menu-wrapper ul li").each(function(){//find active links and set the active trail
//find active-trail li and add aria expanded role to the expander
a("ul",this).length&&!a(".expander:first",this).length&&a(this).addClass("parent").prepend("<a href=\"#\" class=\"expander\" aria-expanded=\"false\" role=\"button\" aria-label=\"Page Submenu Expander\"></a>").find(" > a:not(.expander)").next("ul").attr("aria-hidden","true"),a(".is-active",this).removeAttr("href").siblings("ul").slideDown(100).attr("aria-hidden","false").end().parentsUntil("#page-menu-wrapper > ul").addClass("active-trail expanded"),a("li.active-trail > .expander").attr("aria-expanded","true").siblings("ul").attr("aria-hidden","false")}),a(document).on("click","#page-menu-wrapper .expander",function(b){b.preventDefault(),"false"==a(this).attr("aria-expanded")?a(this).attr("aria-expanded","true").siblings("ul").slideDown(300).attr("aria-hidden","false").end().closest("li").addClass("expanded"):a(this).attr("aria-expanded","false").siblings("ul").slideUp(300).attr("aria-hidden","true").end().closest("li").removeClass("expanded")})})})}//end page menu function
}})(jQuery,Drupal);
//# sourceMappingURL=section-menu.js.map
