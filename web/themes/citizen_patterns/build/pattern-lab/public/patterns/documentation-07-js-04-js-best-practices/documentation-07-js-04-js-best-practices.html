<!DOCTYPE html>
<html class="pl">
  <head>
    <title>Pattern Lab</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="../../css/pattern-scaffolding.css?1573747334" media="all" />
    <link rel="stylesheet" href="../../../../dist/style.css?1573747334" media="all" />
    <link rel="stylesheet" href="../../js/select2.min.css?1573747334" media="all" />
    <link rel="stylesheet" href="../../js/swipebox/src/css/swipebox.css?1573747334" media="all" />

    <!-- Begin Pattern Lab (Required for Pattern Lab to run properly) -->
    <!-- never cache patterns -->
<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
<meta http-equiv="pragma" content="no-cache" />

<link rel="stylesheet" href="../../styleguide/css/styleguide.min.css?1573747334" media="all">
<link rel="stylesheet" href="../../styleguide/css/prism-typeahead.min.css?1573747334" media="all" />
    <!-- End Pattern Lab -->

  </head>
  <body class="">
    <!-- for js not found errors (only in styleguide)-->
  	<div class="visually-hidden">
  		<div id="tabs" class="tabs"></div>
  	</div>
<a name="js-best-practices" id="js-best-practices"></a>

<div class="doc-text">
	<p>behaviors, context, only use if absolutely necessary—can do a lot through css & twig, always use as specifically as possible, some debugging practices.</p>
	<div class="doc-section">
		<h4 class="doc-section-title">JS Best Practices</h4>
		<div class="doc-section-inner">
			<ol class="big-number">
				<li>Always use jQuery functions inside of <a href="#drupal-behaviors">Drupal Behaviors</a> and contexts. <strong>Behaviors and Contexts should never be repeated.</strong> Any duplicate behavior will not be used.</li>
				<li>Use component JS files attached to Twig component templates in all cases except when you are sure the script is needed on every single page of the site.</li>
				<li>When an Citizen Patterns library calls an external script (call though CDN whenever possible, if that library is used for more than one component, do not create a new library/file for each component. This will reduce the amount of external calls.</li>
				<li><strong>Underscore JS—</strong> <a href="http://underscorejs.org/">UnderscoreJs</a> is an external library that is a Drupal Core dependency. OC Patterns uses it primarily for resize() responsive functions. <strong>Any time you need a function to be run each time the window is resized, use the Underscore <span class="code">._debounce() </span>function.</strong> Make sure that you specify core/underscore as a dependency of the library you create for that component.<br>Example:<br><span class="code">$(window).on('resize',  _.debounce( pageMenuMobile, 100 )).trigger('resize');</span><br> to call your custom:<br><span class="code">function pageMenuMobile({ scripts that happen on resize });</span>.</li>
				<li>Use descriptive (<span class="code">//my great js function does this...</span>) comments in JS files the same as you would for Scss. File name comments are not needed since these are individual attached rather than compiled into one sheet. Component level comments are not needed because of behavior names but are also not discouraged—especially when multiple components are added to the same JS file (like global.js).</li>
				<li><strong>Tabs—</strong> As with Scss files, Citizen Patterns uses tabs instead of spaces with a 3-space tab considered optimal (Sublime can be configured to do this for you automatically). Unfortunately there is no ESLint rule to enforce this.</li>
			</ol>
		</div>
	</div>
</div>


  <!--DO NOT REMOVE-->
  <script type="text/json" id="sg-pattern-data-footer" class="sg-pattern-data">
  {"cssEnabled":false,"lineage":[],"lineageR":[],"patternBreadcrumb":{"patternType":"documentation","patternSubtype":"js"},"patternDesc":"","patternExtension":"twig","patternName":"js best practices","patternPartial":"documentation-js-best-practices","patternState":"","extraOutput":[]}
</script>

<script>
  /*!
  * scriptLoader - v0.1
  *
  * Copyright (c) 2014 Dave Olsen, http://dmolsen.com
  * Licensed under the MIT license
  *
  */
  
  var scriptLoader = {
    run: function(js,cb,target) {
      var s  = document.getElementById(target+'-'+cb);
      for (var i = 0; i < js.length; i++) {
        var src = (typeof js[i] != 'string') ? js[i].src : js[i];
        var c   = document.createElement('script');
        c.src   = '../../'+src+'?'+cb;
        if (typeof js[i] != 'string') {
          if (js[i].dep !== undefined) {
            c.onload = function(dep,cb,target) {
              return function() {
                scriptLoader.run(dep,cb,target);
              }
            }(js[i].dep,cb,target);
          }
        }
        s.parentNode.insertBefore(c,s);
      }
    }
  }
</script>

<script id="pl-js-polyfill-insert-1573747334">
  (function() {
    if (self != top) {
      var cb = '1573747334';
      var js = [];
      if (typeof document !== 'undefined' && !('classList' in document.documentElement)) {
        js.push('styleguide/bower_components/classList.min.js');
      }
      scriptLoader.run(js,cb,'pl-js-polyfill-insert');
    }
  })();
</script>

<script id="pl-js-insert-1573747334">
  (function() {
    if (self != top) {
      var cb = '1573747334';
      var js = [ { 'src': 'styleguide/bower_components/jwerty.min.js', 'dep': [ 'styleguide/js/patternlab-pattern.min.js' ] } ];
      scriptLoader.run(js,cb,'pl-js-insert');
    }
  })();
</script>

  <!-- Drupal-specific files - UNCOMMENT AS NECESSARY -->
  <!-- may need to change these below based on path -->
  <script src="../../js/ready.min.js"></script>
  <script src="../../js/drupal.js"></script>
  <script src="../../js/underscore-min.js"></script>
  <script src="../../js/jquery.js"></script>
  <script src="../../js/jquery.once.min.js"></script>
  <script src="../../js/select2.min.js"></script>
  <script src="../../js/stacktable/stacktable.min.js"></script>
  <script src="../../js/swipebox//src/js/jquery.swipebox.js"></script>
  <script src="../../../../dist/scripts-styleguide.js"></script>
  <script>Drupal.attachBehaviors();</script>
  <script>
    $("select").once('selects').each(function(){  
        $( '.sg-pattern-example select' ).select2({
          placeholder: "Select an option"
        });
    });
  </script>

  <script>
    $(".node--type-landing_page select").once('landing_select').each(function(){  
        $(this).select2();
    });
  </script>

  <script>
    $(".text-long table").once('stack').each(function(){  
        $(this).cardtable({myClass:'responsive-table'});
        $(document).ajaxComplete(function() {
            $('.layout-container table').cardtable({myClass:'responsive-table'});
        });
    });
  </script>
  </body>
</html>
