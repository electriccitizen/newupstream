{"version":3,"sources":["03-organisms/01-widgets/widgets.js"],"names":["window","outerWidth","attr","removeAttr","Drupal","behaviors","widgetAnchors","attach","once","each","click","preventDefault","is","removeClass","find","addClass","closest","next","slideUp","slideDown","on","_","debounce","trigger","setTimeout","animate","scrollTop","offset","top","jQuery"],"mappings":"aAAA,CAAC,WAAa,CAoCd,YAA2B,CACzB,GAAI,GAAS,EAAEA,MAAF,EAAUC,UAAV,EAAb,CACa,GAAT,EAFqB,CAIpB,CAAC,EAAE,aAAF,EAAiBC,IAAjB,CAAsB,eAAtB,CAJmB,GAKrB,EAAE,aAAF,EAAiBA,IAAjB,8EALqB,CAUrB,EAAE,qBAAF,EAAyBA,IAAzB,CAA8B,aAA9B,CAA6C,MAA7C,CAVqB,GAcvB,EAAE,aAAF,EAAiBC,UAAjB,CAA4B,kCAA5B,CAduB,CAevB,EAAE,qBAAF,EAAyBA,UAAzB,CAAoC,aAApC,CAfuB,CAiB1B,CAnDDC,OAAOC,SAAP,CAAiBC,aAAjB,CAAiC,CAChCC,OAAQ,kBAA6B,CACpC,EAAE,iBAAF,IAA8BC,IAA9B,CAAmC,cAAnC,EAAmDC,IAAnD,CAAwD,UAAU,CAE/D,EAAE,aAAF,EAAiBC,KAAjB,CAAuB,WAAW,CACjC,EAAEC,cAAF,EADiC,CAEJ,GAAzB,GAAEX,MAAF,EAAUC,UAAV,EAF6B,GAG3B,EAAE,IAAF,EAAQW,EAAR,CAAW,aAAX,CAH2B,CAI5B,EAAE,IAAF,EAAQV,IAAR,CAAa,eAAb,CAA8B,OAA9B,EAAuCW,WAAvC,CAAmD,YAAnD,EAAiEC,IAAjE,CAAsE,GAAtE,EAA2ED,WAA3E,CAAuF,iBAAvF,EAA0GE,QAA1G,CAAmH,SAAnH,EAA8HC,OAA9H,CAAsI,YAAtI,EAAoJC,IAApJ,CAAyJ,qBAAzJ,EAAgLf,IAAhL,CAAqL,aAArL,CAAoM,MAApM,EAA4MgB,OAA5M,CAAoN,GAApN,CAJ4B,CAM5B,EAAE,IAAF,EAAQhB,IAAR,CAAa,eAAb,CAA8B,MAA9B,EAAsCa,QAAtC,CAA+C,YAA/C,EAA6DD,IAA7D,CAAkE,GAAlE,EAAuED,WAAvE,CAAmF,SAAnF,EAA8FE,QAA9F,CAAuG,iBAAvG,EAA0HC,OAA1H,CAAkI,YAAlI,EAAgJC,IAAhJ,CAAqJ,qBAArJ,EAA4Kf,IAA5K,CAAiL,aAAjL,CAAgM,OAAhM,EAAyMiB,SAAzM,CAAmN,GAAnN,CAN4B,CASjC,CATD,CAF+D,CAa/D,EAAEnB,MAAF,EAAUoB,EAAV,CAAa,QAAb,CAAwBC,EAAEC,QAAF,GAA6B,EAA7B,CAAxB,EAA2DC,OAA3D,CAAmE,QAAnE,CAb+D,CAgB/D,EAAE,oBAAF,CAAwB,IAAxB,EAA8Bb,KAA9B,CAAoC,WAAW,CAC9C,EAAEC,cAAF,EAD8C,CAG9C,EAAE,wBAAF,EAA4BT,IAA5B,CAAiC,eAAjC,CAAkD,OAAlD,EAA2DW,WAA3D,CAAuE,YAAvE,EAAqFC,IAArF,CAA0F,GAA1F,EAA+FD,WAA/F,CAA2G,iBAA3G,EAA8HE,QAA9H,CAAuI,SAAvI,EAAkJC,OAAlJ,CAA0J,YAA1J,EAAwKC,IAAxK,CAA6K,qBAA7K,EAAoMf,IAApM,CAAyM,aAAzM,CAAwN,MAAxN,EAAgOgB,OAAhO,CAAwO,EAAxO,CAH8C,CAK9C,GAAI,GAAS,EAAE,IAAF,EAAQhB,IAAR,CAAa,MAAb,CAAb,CACAsB,WAAW,UAAU,CACpB,EAAE,YAAF,EAAgBC,OAAhB,CAAwB,CACjBC,UAAW,KAAUC,MAAV,GAAmBC,GAAnB,CAAyB,GADnB,CAAxB,CAGA,CAJD,CAIG,EAJH,CAKA,CAXD,CAYD,CA5BF,CA6BC,CA/B8B,CAuDhC,CAzDD,EAyDGC,MAzDH,C","file":"widgets.js","sourcesContent":["(function ($) {\n\nDrupal.behaviors.widgetAnchors = {\n\tattach: function (context, settings) {\n\t\t$(\".widget-anchors\", context).once('smoothscroll').each(function(){  \n    \t//open in this section\n    \t$('.toc-toggle').click(function(e){\n    \t\te.preventDefault();\n\t      if($(window).outerWidth() < 760){\n\t        if($(this).is('.active-nav')){\n\t          $(this).attr('aria-expanded', 'false').removeClass('active-nav').find('i').removeClass('fa-times-circle').addClass('fa-bars').closest('#toc-title').next('#toc-anchor-wrapper').attr('aria-hidden', 'true').slideUp(500);\n\t        }else{\n\t          $(this).attr('aria-expanded', 'true').addClass('active-nav').find('i').removeClass('fa-bars').addClass('fa-times-circle').closest('#toc-title').next('#toc-anchor-wrapper').attr('aria-hidden', 'false').slideDown(500);\n\t        }\n\t      }\n    \t});\n\n    \t$(window).on('resize',  _.debounce( mobileAnchorNav, 10 )).trigger('resize');\n\n    \t//scroll to anchors\n    \t$('a:not(.toc-toggle)', this).click(function(e){\n    \t\te.preventDefault();\n    \t\t//close the anchor nav and reset arias\n    \t\t$('.toc-toggle.active-nav').attr('aria-expanded', 'false').removeClass('active-nav').find('i').removeClass('fa-times-circle').addClass('fa-bars').closest('#toc-title').next('#toc-anchor-wrapper').attr('aria-hidden', 'true').slideUp(10);\n    \t\t//scroll to the anchor\n    \t\tvar anchor = $(this).attr('href');\n    \t\tsetTimeout(function(){\n    \t\t\t$('html, body').animate({\n            \t scrollTop: $(anchor).offset().top - 100\n         \t});\n    \t\t}, 20);\n    \t});\n   });\n  }\n};//end widget anchors\n\nfunction mobileAnchorNav() {\n  var wwidth = $(window).outerWidth();\n  if (wwidth < 760) {\n    //add aria roles to anchors title and wrapper if not already set by click above \n    if(!$('.toc-toggle').attr('aria-controls')){\n      $('.toc-toggle').attr({\n        'aria-controls': 'toc-anchor-wrapper', \n        'aria-expanded': 'false', \n        'role': 'button'\n      });\n      $('#toc-anchor-wrapper').attr('aria-hidden', 'true');\n    } \n  }else{\n    //strip all aria roles & prevent click\n    $('.toc-toggle').removeAttr('aria-controls aria-expanded role');\n    $('#toc-anchor-wrapper').removeAttr('aria-hidden');\n  }\n};\n\n\n\n})(jQuery);"]}