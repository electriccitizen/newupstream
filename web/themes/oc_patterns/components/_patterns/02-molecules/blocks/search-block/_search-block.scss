/* ================
	 SEARCH
=================== */

///mixin placholder
%searchBlockPlaceholder{
	$place-tint: 1;
	$place-color: $white;
	&::-webkit-placeholder{
		opacity: $place-tint;
		color: $place-color;
	}
	&::-moz-placeholder{
		opacity: $place-tint;
		color: $place-color;
	}
	&:-ms-input-placeholder{
		opacity: $place-tint;
		color: $place-color;
	}
	&::-webkit-input-placeholder{
		opacity: $place-tint;
		color: $place-color;
	}
}

///mixin - placeholderFocus
%searchBlockPlaceholderFocus{
	$place-focus-tint: .2;
	$place-focus-color: $white;
	&::-webkit-placeholder{
		opacity: $place-focus-tint;
		color: $place-focus-color;
	}
	&::-moz-placeholder{
		opacity: $place-focus-tint;
		color: $place-focus-color;
	}
	&:-ms-input-placeholder{
		opacity: $place-focus-tint;
		color: $place-focus-color;
	}
	&::-webkit-input-placeholder{
		opacity: $place-focus-tint;
		color: $place-focus-color;
	}
}


.search-form-outer{

	//search icon
	.t-search-wrapper{
		&:hover,&:focus{
			i:after{
				content: '';
				display: block;
				position: absolute;
				bottom: -7px;
				right: 0;
				width: 24px;
				height: 1px;
				background: $black;
			}
		}
		.box &{
			@include desk{
				display: none;
			}
		}
		.search-page-block &{
			display: none;
		}
		.t-search{
			border: 1px solid transparent;
			color: $black;
			i{
				position: relative;
				font-size: 2.2rem;
			}
		}
	}//end t-search-wrapper

	//close search
	.t-search-close{
		position: absolute;
		top: 0;
		right: 0;
		height: 50px;
		width: 50px;
		display: none;
		z-index: 502;
		.box &{
			@include desk{
				display: none;
			}
		}
		.search-page-block &{
			display: none;
		}
		.close-search{
			font-family: $header;
			display: block;
			width: 100%;
			height: 100%;
			color: $black;
			font-size: 2.8rem;
			background: $offWhite;
			cursor: pointer;
			@include safeFlex(column,null,center,center);
			&:hover,&:focus{
				text-decoration: none;
				background: $black;
				color: $offWhite;
			}
		}
		.close-text{
			font-family: $displayHeader;
			font-size: 18px;
			color: $white;
			position: absolute;
			bottom: -24px;
			left: 0;
			width: 100%;
			text-align: center;
		}
	}//end search close


	//put search form wrapper at top of screen and full width, hide for slide effect
	.search-form-wrapper{
		position: absolute;
		display: none;
		z-index: 500;
		top: 0;
		left: 0;
		width: 100%;
		@include contentStop{
			@include calc(left, "-50vw + 620px");
			width: 100vw;
		}
		.box &{
			@include desk{
				display: block !important;
				left: auto;
				right: 18px;
				max-width: 280px;
			}
		}
		.search-page-block &{
			display: block;
			position: relative;
			left: auto;
			margin: $spaceLg 0;
			max-width: 100%;
		}
	}//end search-form-wrapper

	//put search form at top of screen and full width
	#views-exposed-form-site-search-search-results {
		position: relative;
		width: 100%;
		padding: 80px $siteMarginMobile;
		text-align: center;
		background: rgba(35,35,35,0.97);
		@include desk{
			padding: 160px $siteMarginMobile;
		}
		.box &{
			@include desk{
				padding: 0;
				background: none;
			}
		}
		.search-page-block &{
			padding: 60px 20px;
			background: $lightGrey;
			max-width: 1200px;
			@include edgeToEdge;
			@include calc(width, "100% + 40px");
			@include contentStop{
				@include edgeReset;
			}
		}

		//search box input
		.js-form-item-site-search-api-fulltext{
			padding: 10px 0;
			width: 100%;
			margin-bottom: 0;
			max-width: 800px;
			@include auto;
			label{
				@include visuallyHidden;
			}
			input{
				width: 100%;
				background: transparent;
				padding: 9px 5px;
				border: none;
				color: $white;
				font-family: $serif;
				border-bottom: 1px solid $white;
				border-radius: 0;
				@extend %searchBlockPlaceholder;
				//prevent yellow chrome autofill inset                                                   
				&:-webkit-autofill{
					-webkit-box-shadow: 0 0 0 1000px $white inset;
				}
				@include tab{
					font-size: 2.2rem;
				}
				&:focus{
					outline: 1px solid $white;
					@extend %searchBlockPlaceholderFocus;
				}
				.box &{
					@include desk{
						color: $black;
						border-bottom-color: $black;
						font-size: 1.6rem;
						@include placeholder;
						&:focus{
							outline: 1px solid $grey;
							@include placeholderFocus;
						}
					}
				}
				.search-page-block &{
					color: $black;
					border-bottom-color: $black;
					@include placeholder;
					&:focus{
						outline: 1px solid $grey;
						@include placeholderFocus;
					}
				}
			}//end input
		}//end fulltext search

		//search submit button
		.form-actions{
			position: relative;
			@include auto;
			max-width: 800px;
			.form-submit{
				position: absolute;
				top: -46px;
				right: 5px;
				height: 30px;
				width: 30px;
				background: transparent;
				z-index: 2;
				text-indent: -9000px;
				cursor: pointer;
				padding: 0;
				@include tab{
					top: -48px;
					right: 10px;
				}
				&:focus,&:hover{
					& + i{
						color: $link;
					}
				}
			}//end form submit
			i{
				position: absolute;
				top: -45px;
				right: 8px;
				font-size: 24px;
				color: $white;
				cursor: pointer;
				@include tab{
					font-size: 28px;
					top: -48px;
					right: 12px;
				}
				.box &{
					@include desk{
						color: $black;
						font-size: 24px;
						top: -42px;
						right: 8px;
					}
				}
				.search-page-block &{
					color: $black;
				}
			}//end i
		}//end form-actions
	}//end search block form

}//end search block


/* PATTERN LAB ONLY 
------------------- */
.pl{
	#molecules-search-block .sg-pattern-example{
		position: relative;
		min-height: 200px;

		.block-search-form-block{
			position: relative;
			width: 100%;
		}
		.t-search{
			right: auto;
			left: 0;
			overflow: visible;
			top: 0;
		}
		#search-block-form{
			right: auto;
			left: 50%;
			top: 30px;
			.js-form-type-search input{
				width: 100%;
			}
			@include desk{
				left: auto;
			}
		}
	}
}