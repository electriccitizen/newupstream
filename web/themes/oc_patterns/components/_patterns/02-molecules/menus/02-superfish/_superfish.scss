/* ==============
	 SUPERFISH 
================ */

/* PLACEHOLDERS
------------ */

%menuDropdown{
	background: $white;
	border-left: 1px solid $grey;
	border-right: 1px solid $grey;
	border-bottom: 3px solid $black;
}

%childDrop{
	&.menuparent{
		& > ul{
			background: $white;
			border: 1px dotted $borderRule;
		}
	}
}


/* GLOBAL COLORS
	----------------- */
.sf-main li{
	a{
		color: $link;
		text-align: left;
		&:hover,&:focus{
			color: $hoverLink;
		}
	}
	&.active-trail > a{
		color: $black;
		&:hover,&:focus{
			color: $hoverLink;
		}
	}
}



/* DESK FISH
---------------- */
.sf-menu.sf-horizontal{

	//override deafult floats
	li{
		float: none;
	}

	/* ====  sf main links ==== */
	&.sf-main{
		@include safeFlex(row,wrap,end,null);
		& > li{
			&:not(.sfHover){
				& > ul{
					display: none !important;
				}
			}
			& > a{
				color: $black;
				padding: 20px 15px !important;
				font-size: 20px;
				display: block;
				position: relative;
			}
			&.active-trail > a{
				color: $link;
			}
			&:hover,&:focus{
				background: $white;
			}
		}
	}//end main links


	/* ====  sf main dropdown ==== */
	& > li.sf-depth-1{

		//dropdown wrapper
		& > ul{
			padding: 20px 0 0;
			top: 100%;
			min-width: 280px;
			@extend %menuDropdown;
			& > li{ 
				padding: 0;
				&:last-of-type{
					padding: 0 0 20px;
				}
			}
		}

	}//end main dropdown


	/* ==== TOGGLERS ==== */
	.sf-depth-2 {
		//global toggles
		a.menuparent{
			&:after{
				@include fontAwesome('\f105');
				display: inline-block;
				padding: 0;
				position: relative;
				right: -10px;
				opacity: 1;
			}
		}

		//level 2 togglers only
		& > a.menuparent{
			&:after{
				top: 1px;
				height: 18px;
				width: 18px;
				font-size: 26px;
			}
		}

	}//end sf-depth 2 (global togglers)


	/* ====  Level 2 ==== */
	a.sf-depth-2{
		font-size: 20px;
		line-height: 1em;
		padding: 12px 20px;
	}
	 

	/* ====  Level 3 ==== */

	//dropdown wrapper 
	.sf-depth-1 .sf-depth-2{
		ul{
			@extend %menuDropdown;
			left: 100%;
			top: -1px;
			min-width: 240px;
			border-top: 1px solid $grey;
		}
	}

	//level 3
	li.sf-depth-2 li{
		font-size: 17px;
		line-height: 1em;
		@extend %childDrop;
		& > a{
			padding-left: 40px;
			padding: 8px 20px 8px 40px;
			&.menuparent{
				padding: 8px 40px;
				//downsizing for all toggler 3 and below
				&:after{
					font-size: 20px;
				}
			}
		}
	}//end a.level 3

	/* ====  Level 4 ==== */
	li.sf-depth-4{
		@extend %childDrop;
	}


}//end .sf-menu.sf-horizontal.sf-main




/* MOBILE FISH
----------------- */
		
/* ====  sf main dropdown ====*/
ul.sf-menu.sf-accordion{
	&.sf-expanded.sf-main{
		position: absolute;
		left: 0 !important;
		top: 100% !important;
		text-align: left;
		overflow: hidden;
		background: $white;
		border-bottom: 8px solid $black;
	}

	/* ====  global links ====*/
	a{
		padding: 20px 30px;
	}

	//parents, expanders & dropdowns
	&.sf-accordion-with-buttons li{
		& > .sf-accordion-button{
			width: 60px;
			height: 100%;
			float: right;
			text-indent: 9000px;
			position: relative;
			//expander toggle
			&:after{
				text-indent: 0;
				position: absolute;
				top: 50%;
				left: 50%;
				margin: 0;
				@include fontAwesome('\f107');
				@include translate(-50%, -50%);
				background-color: transparent;
				font-size: 30px;
			}
		}//end accordion button

		&.menuparent{
			@include clearFix;
			a{
				&:not(.sf-accordion-button){
					padding-right: 0;
					@include calc(width, "100% - 60px");
				}
			}
		}//end menupareny
		&.sf-expanded > .sf-accordion-button{
			&:after{
				content: '\f106';
			}
		}
	}//end li

	

	li.sf-expanded > ul{
		padding: 0 0 10px;
	}


	/* ====  LEVEL 1  ====*/
	li.sf-depth-1{
		&:not(:last-child){
			border-bottom: 1px solid $borderRule;
		}
		&.sf-expanded{
			& > a{
				color: $hoverLink;
				background: $lightGrey;
				border-bottom: 3px solid $transBlack;
			}
			& > ul{
				padding: 10px 0;
			}
		}
	}//end level 1


	/* ====  LEVEL 2  ====*/
	li.sf-depth-2{

		&:first-of-type.sf-expanded{
			border-top: 0;
		}
		&:last-of-type.sf-expanded{
			border-bottom: 0;
		}
		//inset level2 and those below
		& > a{
			padding: 10px 30px;
			&:not(.sf-accordion-button){
				padding: 10px 30px 10px 40px;
			}
		}

	}//end level 2


	/* ====  LEVEL 3 & Below ====*/
	li.sf-depth-3{
		//font size for level 3 and those below
		a{
			font-size: 15px;
			padding: 10px 30px;
			&.sf-accordion-button{
				&:after{
					font-size: 22px;
				}
			}
			&:not(.sf-accordion-button){
				padding: 10px 30px 10px 50px;
			}
		}
	}

}//end sf-menu.sf-accordion





/* PATTERN LAB ONLY
------------------- */
.pl #molecules-superfish,.pl #molecules-superfish-mobile{
	li{
		list-style: none;
	}
	.sf-hidden{
		display: none;
	}
	.faux-header{
		padding: 2em 20px;
		background: $offWhite; 
	}

	.sf-dropdown{
		margin-bottom: 100px;
		.sf-main{
			padding: 10px 20px;
			background: $white;
			li.sf-depth-1{
				max-width: 200px;
				background: $white;
				&:after{
					background: $white;
				}
				a{
					display: inline-block;
				}
			}
		}
		.menuparent{
			position: relative;
			& > ul{
				@include listReset;
				margin-top: 10px;
				position: absolute;
				top: 100%;
				left: 0;
				min-width: 300px;
			}
		}
	}//end sf-dropdown

	.sf-mobile{
		max-width: 500px;
		padding: 10px 20px 30px;
		background: $offWhite;
		a{
			display: block;
		}
		.sf-hidden{
			display: none;
		}
		ul{
			@include listReset;
			&.sf-main{
				position: relative;
			}
		}
		.sf-accordion-button{
			width: 60px;
			height: 100%;
			float: right;
			text-indent: -9000px;
			position: relative;
			&:after{
				content: '';
				text-indent: 0;
				position: absolute;
				top: 50%;
				left: 50%;
				margin: 0;
				display: block;
				@include translate(-50%, -50%);
			}
		}
	}

}//end pl

