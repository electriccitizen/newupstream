/* =================
	 PAGE MENU
===================== */


.block--system-menu.page-menu{

	/* NON-KERMIT DESKTOP MENU
	-------------- */ 

	//top level
	& > ul{
		@include listReset;

		//child menus
		ul{
			margin: .25em 0;
			display: none;
			padding-left: 12px;
			@include transAll(.3s);
			li{
				//reset sub menus to base font size
				@include baseFontSize;
				a:hover{
					@include transAll(.3s);
				}
			}
		}
		//set first livel to larger size
		& > li{
			font-size: 20px;
		}
	}//end first level ul


	//global menu items
	li{
		padding-top: 4px;
		padding-bottom: 4px;
		list-style: none;
		//shift non parents over to match expander spacing
		&:not(.parent){
			padding-left: .8em;
		}

		//parents
		&.parent{
			.expander{
				@include browserWipe;
				color: $link;
				border: 0;
				padding: 0;
				background: none;
				cursor: pointer;
				&:hover,&:focus,&:active{
					color: $hoverLink;
				}
				&:before{
					content: "+";
				}
			}
			&.expanded{
				.expander{
					color: $hoverLink;
					&:before{
						content: "â€“";
					}
				}
				//show next menu level
				& > ul{
					display: block;
					height: 0;
					@include animation(slideDown .2s 1 forwards);
					@include backfaceVisibility(hidden);
				}
				& > a{
					color: $black;
				}
			}//end when expanded
		}//end parent

	}//end global li

	//active link
	a.is-active{
		color: $black;
	}


	/* MOBILE & KERMIT PAGE MENU
	--------------------- */

	//select2 mobile jump menu
	.select2-container{
		width: 100% !important;
		max-width: 400px;
		.select2-selection__rendered{
			background-color: $link;
			color: $white;
			border: none;
		}
		.select2-selection--single{
			height: 36px; 
			border: none;
			.select2-selection__arrow{
				height: 20px;
				width: 20px;
				top: 8px;
				right: 8px;         
				@include sideDropArrow;
			}
		}
		//icons when open, focused
		&.select2-container--open,&:focus{
			.select2-selection--single .select2-selection__arrow{
				@include sideDropArrowActive;
			}
		}
	}

	//kermit specific placement
	.kermit &{
		& > ul{
			display: none;
		}
		@include tab{
			position: absolute;
			bottom: 5px;
			right: 0;
		}
		@include breakpoint (1240px){
			@include calc(right, "50vw - 620px");
		}
		h2.block-title{
			display: none;
		}
		.select2-container{
			max-width: 300px;
			@include tab{
				width: 300px !important;
			}
		}
	}
	
	//when in any top region
	.block-region-top &{
		padding: 0 20px;
	}
	
}//end .block--system-menu.page-menu nav


/* PATTERN LAB ONLY
-------------------- */
.pl .page-menu{
	& > ul:not(:first-of-type){
		display: none;
	}
} 