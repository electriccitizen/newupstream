<!DOCTYPE html>
<html class="pl">
  <head>
    <title>Pattern Lab</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="../../css/pattern-scaffolding.css?1573747334" media="all" />
    <link rel="stylesheet" href="../../../../dist/style.css?1573747334" media="all" />
    <link rel="stylesheet" href="../../js/select2.min.css?1573747334" media="all" />
    <link rel="stylesheet" href="../../js/swipebox/src/css/swipebox.css?1573747334" media="all" />

    <!-- Begin Pattern Lab (Required for Pattern Lab to run properly) -->
    <!-- never cache patterns -->
<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
<meta http-equiv="pragma" content="no-cache" />

<link rel="stylesheet" href="../../styleguide/css/styleguide.min.css?1573747334" media="all">
<link rel="stylesheet" href="../../styleguide/css/prism-typeahead.min.css?1573747334" media="all" />
    <!-- End Pattern Lab -->

  </head>
  <body class="">
    <!-- for js not found errors (only in styleguide)-->
  	<div class="visually-hidden">
  		<div id="tabs" class="tabs"></div>
  	</div>
<!-- View All Patterns in a Pattern Sub-Type -->
<div class="sg-main" role="main">
  <!-- Patterns -->
  <div id="sg-patterns">
                  <div id="viewall-documentation-drupal-integration" class="sg-subtype">
  <h2>
    <a href="../../patterns/documentation-09-drupal-integration/index.html" class="patternLink" data-patternpartial="viewall-documentation-drupal-integration">
      drupal integration
    </a>
  </h2>
  
  <div class="sg-pattern-body">
    
  </div>
</div>                        <div id="documentation-drupal-overview" class="sg-pattern">
  <div class="sg-pattern-head">
    <h3 class="sg-pattern-title">
      <a href="../../patterns/documentation-09-drupal-integration-00-drupal-overview/documentation-09-drupal-integration-00-drupal-overview.html" class="patternLink" data-patternpartial="documentation-drupal-overview" title="Link to Pattern">
        drupal overview
        
              </a>
    </h3>
    
    <div class="sg-pattern-breadcrumb">
      
    </div>
    
    <a href="#" data-patternpartial="documentation-drupal-overview" title="View Pattern Info" id="sg-pattern-extra-toggle-documentation-drupal-overview" class="sg-pattern-extra-toggle">
      <span>&#9660;</span>
    </a>
  </div>
  
  <div class="sg-pattern-extra" id="sg-pattern-extra-documentation-drupal-overview"></div>
    
  <div class="sg-pattern-example">
    <a name="drupal-overview" id="drupal-overview"></a>

<div class="doc-text">
	<div class="doc-section">
		<h4 class="doc-section-title"></h4>
		<div class="doc-section-inner">
			<p>Pattern Lab works alongside Drupal but is not actually a part of Drupal. In order for Drupal to pick up what Pattern Lab is throwing down, Citizen Patterns needs to let Drupal now to use the files and templates living in Pattern Lab and the /dist folder it is being compiled into.</p>
			<p><strong>Citizen Patterns Info File—</strong> This is main file that tells Drupal where to look for Pattern Lab elements. Global/font libraries, CKEditor stylesheets, theme Block Layout regions, and the Component Libraries are all outlined in citizen_patterns.info.yml</p>
			<p><strong>Global/Font libraries—</strong> These are defined in citizen_patterns.libraries.yml and tell the theme (and thus Drupal) where to find style.css sheet (that all the Scss files get compiled into) as well as the global JS files and core dependencies.</p>
			<p><strong>CKEditor Stylesheets—</strong> Tells Drupal where to find the CKEditor (WYSIWYG) stylesheet. This stylesheet needs to be update for any new WYSIWYG styles added to a site and to reflect the site-wide body font.</p>
			<p><strong>Block Layout Regions—</strong> These are the main regions of the theme (different than Panelizer layout regions. These regions hold the header, main content and footer blocks.</p>
			<p><strong>Component Libraries—</strong> These tell Drupal where to find the major top level atomic structure of Pattern Lab. The Drupal <a href="https://www.drupal.org/project/components" target="_blank">Component Libraries</a> module reads these and allows Drupal Twig Templates to use the atomic level shorthand when inheriting Pattern Lab Twig templates.</p>
		</div>
	</div>
</div>


  </div>
  
  <script type="text/json" id="sg-pattern-data-documentation-drupal-overview" class="sg-pattern-data">
    {"lineage":[],"lineageR":[],"patternBreadcrumb":{"patternType":"documentation","patternSubtype":"drupal integration"},"patternDesc":"","patternExtension":"twig","patternName":"drupal overview","patternPartial":"documentation-drupal-overview","patternState":""}
  </script>
</div><!--end .sg-pattern-->                        <div id="documentation-template-inheritance" class="sg-pattern">
  <div class="sg-pattern-head">
    <h3 class="sg-pattern-title">
      <a href="../../patterns/documentation-09-drupal-integration-01-template-inheritance/documentation-09-drupal-integration-01-template-inheritance.html" class="patternLink" data-patternpartial="documentation-template-inheritance" title="Link to Pattern">
        template inheritance
        
              </a>
    </h3>
    
    <div class="sg-pattern-breadcrumb">
      
    </div>
    
    <a href="#" data-patternpartial="documentation-template-inheritance" title="View Pattern Info" id="sg-pattern-extra-toggle-documentation-template-inheritance" class="sg-pattern-extra-toggle">
      <span>&#9660;</span>
    </a>
  </div>
  
  <div class="sg-pattern-extra" id="sg-pattern-extra-documentation-template-inheritance"></div>
    
  <div class="sg-pattern-example">
    <a name="drupal-inheritance" id="drupal-inheritance"></a>

<div class="doc-text">
	<div class="doc-section">
		<h4 class="doc-section-title">Twig Template Inheritance</h4>
		<div class="doc-section-inner">
			<p>Twig template inheritance works both between Pattern Lab and Drupal and within each system itself.  Any template can inherited into any other template as long as the template being inherited comes before the inheriting template in the hierarchy.  This is why atomic design is so crucial. A global paragraphs.html.twig Drupal template can be extended (inherited) into all of the paragraph bundle (widget) specific templates so that the correct classes get picked up without having to be re-written each time.</p>
			<p>Pattern Lab twig templates can be inherited directly into Drupal templates so that the component theming can be in Pattern Lab without even the need for a working Drupal site and surrounding HTML structure can be tailored as needed and displayed in both the style guide and Drupal.</p>
			<p><strong>Types of Inheritance—</strong> Templates can be inherited by another by using Extends, Include or Embed. They all function in a pretty similar manner, but there are some key differences:
				<ul>
										<li><strong>Extends—</strong> Brings in the entire parent template into the child (inheriting) template. No content outside of the blocks defined in the parent template will be allowed in the child template. Parent blocks can have their content changed in the child template.</li>
					<li><strong>Include—</strong> Inherits the entire parent template into a specific place in the child template (rather than taking over the whole child template as extends does). The included template is rendered in the place in the child template where the inclusion happens. Included templates may have their variables changed by using <span class="code">with:{ }</span> inside of the <span class="code">{% include &quot;my-parent-template-name&quot; %}</span> call. Included templates may not have their block content structure changed (only variables).</li>
					<li><strong>Embed—</strong> Works as a sort of hybrid between Extends and Include. Parent templates are inherited into child templates at the place the embed happens. Variables can be changed by using <span class="code">with:{ }</span> like include, but block content can also be replaced like with extend.</li>
				</ul>
				For more on template inheritance, read this amazing <a href="https://www.electriccitizen.com/blog/twig-drupal-8-development-twig-templating-part-1" target="_blank">Electric Citizen blog post.
			</p>
		</div>
	</div>
</div>


  </div>
  
  <script type="text/json" id="sg-pattern-data-documentation-template-inheritance" class="sg-pattern-data">
    {"lineage":[],"lineageR":[],"patternBreadcrumb":{"patternType":"documentation","patternSubtype":"drupal integration"},"patternDesc":"","patternExtension":"twig","patternName":"template inheritance","patternPartial":"documentation-template-inheritance","patternState":""}
  </script>
</div><!--end .sg-pattern-->                        <div id="documentation-drupal-theme-debugging" class="sg-pattern">
  <div class="sg-pattern-head">
    <h3 class="sg-pattern-title">
      <a href="../../patterns/documentation-09-drupal-integration-02-drupal-theme-debugging/documentation-09-drupal-integration-02-drupal-theme-debugging.html" class="patternLink" data-patternpartial="documentation-drupal-theme-debugging" title="Link to Pattern">
        drupal theme debugging
        
              </a>
    </h3>
    
    <div class="sg-pattern-breadcrumb">
      
    </div>
    
    <a href="#" data-patternpartial="documentation-drupal-theme-debugging" title="View Pattern Info" id="sg-pattern-extra-toggle-documentation-drupal-theme-debugging" class="sg-pattern-extra-toggle">
      <span>&#9660;</span>
    </a>
  </div>
  
  <div class="sg-pattern-extra" id="sg-pattern-extra-documentation-drupal-theme-debugging"></div>
    
  <div class="sg-pattern-example">
    <a name="drupal-theme-debug" id="drupal-theme-debug"></a>

<div class="doc-text">
	<div class="doc-section">
		<h4 class="doc-section-title">Theme Debugging</h4>
		<div class="doc-section-inner">
												<p>Theme debugging can be the saving grace of any developer when customizing templates or doing and sort of PHP/Twig work. Thankfully Drupal 8 offers several ways to debug Citizen Patterns in order to find the variables you need when customizing a template or writing a .theme function.</p>
			<p><strong>Devel/Kint—</strong> Devel is suite of contrib modules that allow theme debugging and (new for Drupal 8) the powerful <span class="code">{{ kint() }}</span> Twig function and <span class="code">{{ ksm() }}</span> PHP function to debug variables.</p>
			<p><strong>Theme Debug—</strong> Theme dug is something that can be turned on by creating a services.yml file for the site and changing a few variables. Theme debug will list all available template suggestions for each component when using a browser inspector. It will also tell you which template is being used and when it ends. You can also turn off site-cache and turn on auto-reload so you don't have to clear cache every time you change a template (as long as you are logged in to your local site). The services.yml file can be found in the /sites/default/services.yml. If there is not one there, you can copy development.services.yml from the /sites folder and move the copy to sites/default and rename it services.yml.</p>
			<p>In services.yml, find the twig.conf: section and change <span class="code">debug:</span> to true, <span class="code">auto_reload:</span> to true, and <span class="code">cache:</span> to false. This will allow for an optimal theming environment. <strong>Never commit the services.yml to git.</strong></p>
			<p><strong>Template variable dumping—</strong> Template variables are piece of Drupal content before they get rendered by Twig templates. Any custom templating of theme functions you do will involve finding and printing template variables.</p>
			<p>If you are customizing a template, you will use either <span class="code">{{ kint() }}</span> or <span class="code">{{ dd() }}</span>. Both will dump all of the available variables for the entity the template belongs to and its parent entity (though use of the <span class="code">'#object'</span> variable). The difference is <span class="code">{{ kint() }}</span> also gets you all of the available methods for each variable. This makes it much slower and more memory intensive that <span class="code">{{ dd() }}</span>, but also more powerful. Methods are good ways to find fields and other variables from entity reference fields: <span class="code">get('field_my_field')</span>. We recommend using <span class="code">{{ dd() }}</span> to get as far as you can and then using <span class="code">{{ kint() }}</span> if necessary—just for efficiency reasons.</p>
			<p>When working in the .theme file editing or creating new theme PHP functions, <span class="code">{{ ksm() }}</span> is the variable dump function you want to use. It works just like <span class="code"></span></p>
			<p><strong>DB Log Report—</strong> Often when making Twig or theme function changes, errors are made that results in a white screen and a fatal error message. This is most often due to syntax errors or variable errors. Sometimes but these errors are printed directly on the screen, but often you will need to go to Configuration > Reports > Recent Log Messages to view the error and find out exactly what is wrong.</p>
		</div>
	</div>
</div>

  </div>
  
  <script type="text/json" id="sg-pattern-data-documentation-drupal-theme-debugging" class="sg-pattern-data">
    {"lineage":[],"lineageR":[],"patternBreadcrumb":{"patternType":"documentation","patternSubtype":"drupal integration"},"patternDesc":"","patternExtension":"twig","patternName":"drupal theme debugging","patternPartial":"documentation-drupal-theme-debugging","patternState":""}
  </script>
</div><!--end .sg-pattern-->                        <div id="documentation-drupal-best-practices" class="sg-pattern">
  <div class="sg-pattern-head">
    <h3 class="sg-pattern-title">
      <a href="../../patterns/documentation-09-drupal-integration-03-drupal-best-practices/documentation-09-drupal-integration-03-drupal-best-practices.html" class="patternLink" data-patternpartial="documentation-drupal-best-practices" title="Link to Pattern">
        drupal best practices
        
              </a>
    </h3>
    
    <div class="sg-pattern-breadcrumb">
      
    </div>
    
    <a href="#" data-patternpartial="documentation-drupal-best-practices" title="View Pattern Info" id="sg-pattern-extra-toggle-documentation-drupal-best-practices" class="sg-pattern-extra-toggle">
      <span>&#9660;</span>
    </a>
  </div>
  
  <div class="sg-pattern-extra" id="sg-pattern-extra-documentation-drupal-best-practices"></div>
    
  <div class="sg-pattern-example">
    <a name="drupal-best-practices" id="drupal-best-practices"></a>

<div class="doc-text">
	<div class="doc-section">
		<h4 class="doc-section-title">Drupal Integration Best Practices</h4>
		<div class="doc-section-inner">
												<ol class="big-number">
			<li>Always use theme debugging locally, but never have the Devel/Kint modules or the services.yml active on dev, stage, or live sites.</li>
			<li>When debugging, <span class="code">{{ kint() }}</span>, <span class="code">{{ dd() }}</span>, and <span class="code">{{ ksm() }}</span> will get you all of the available variables to work with. <span class="code">{{ dd() }}</span> is the fastest and generally best to use. <span class="code">{{ ksm() }}</span> is used only in the .theme file.</li>
			<li>Templates for entities re-used site after site should be created in Pattern Lab and inherited into Drupal. Site specific templates can just exist in Drupal unless there is time in the project for a full site specific style guide.</li>
			<li>When creating custom templates in Pattern Lab, it is best to use Twig blocks around component sections. Even if the template is not currently going to inherited into anything else. Using blocks will future proof for later inheritance possibilities.</li>
			</ol>
		</div>
	</div>
</div>



  </div>
  
  <script type="text/json" id="sg-pattern-data-documentation-drupal-best-practices" class="sg-pattern-data">
    {"lineage":[],"lineageR":[],"patternBreadcrumb":{"patternType":"documentation","patternSubtype":"drupal integration"},"patternDesc":"","patternExtension":"twig","patternName":"drupal best practices","patternPartial":"documentation-drupal-best-practices","patternState":""}
  </script>
</div><!--end .sg-pattern-->            </div> <!--end #sg-patterns-->
</div><!--end .sg-main-->
  <!--DO NOT REMOVE-->
  <script type="text/json" id="sg-pattern-data-footer" class="sg-pattern-data">
  {"patternPartial":"viewall-documentation-drupal-integration"}
</script>

<script>
  /*!
  * scriptLoader - v0.1
  *
  * Copyright (c) 2014 Dave Olsen, http://dmolsen.com
  * Licensed under the MIT license
  *
  */
  
  var scriptLoader = {
    run: function(js,cb,target) {
      var s  = document.getElementById(target+'-'+cb);
      for (var i = 0; i < js.length; i++) {
        var src = (typeof js[i] != 'string') ? js[i].src : js[i];
        var c   = document.createElement('script');
        c.src   = '../../'+src+'?'+cb;
        if (typeof js[i] != 'string') {
          if (js[i].dep !== undefined) {
            c.onload = function(dep,cb,target) {
              return function() {
                scriptLoader.run(dep,cb,target);
              }
            }(js[i].dep,cb,target);
          }
        }
        s.parentNode.insertBefore(c,s);
      }
    }
  }
</script>

<script id="pl-js-polyfill-insert-1573747334">
  (function() {
    if (self != top) {
      var cb = '1573747334';
      var js = [];
      if (typeof document !== 'undefined' && !('classList' in document.documentElement)) {
        js.push('styleguide/bower_components/classList.min.js');
      }
      scriptLoader.run(js,cb,'pl-js-polyfill-insert');
    }
  })();
</script>

<script id="pl-js-insert-1573747334">
  (function() {
    if (self != top) {
      var cb = '1573747334';
      var js = [ { 'src': 'styleguide/bower_components/jwerty.min.js', 'dep': [ 'styleguide/js/patternlab-pattern.min.js' ] } ];
      scriptLoader.run(js,cb,'pl-js-insert');
    }
  })();
</script>

  <!-- Drupal-specific files - UNCOMMENT AS NECESSARY -->
  <!-- may need to change these below based on path -->
  <script src="../../js/ready.min.js"></script>
  <script src="../../js/drupal.js"></script>
  <script src="../../js/underscore-min.js"></script>
  <script src="../../js/jquery.js"></script>
  <script src="../../js/jquery.once.min.js"></script>
  <script src="../../js/select2.min.js"></script>
  <script src="../../js/stacktable/stacktable.min.js"></script>
  <script src="../../js/swipebox//src/js/jquery.swipebox.js"></script>
  <script src="../../../../dist/scripts-styleguide.js"></script>
  <script>Drupal.attachBehaviors();</script>
  <script>
    $("select").once('selects').each(function(){  
        $( '.sg-pattern-example select' ).select2({
          placeholder: "Select an option"
        });
    });
  </script>

  <script>
    $(".node--type-landing_page select").once('landing_select').each(function(){  
        $(this).select2();
    });
  </script>

  <script>
    $(".text-long table").once('stack').each(function(){  
        $(this).cardtable({myClass:'responsive-table'});
        $(document).ajaxComplete(function() {
            $('.layout-container table').cardtable({myClass:'responsive-table'});
        });
    });
  </script>
  </body>
</html>
