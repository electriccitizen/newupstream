<!DOCTYPE html>
<html class="pl">
  <head>
    <title>Pattern Lab</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="../../css/pattern-scaffolding.css?1573747283" media="all" />
    
    <link rel="stylesheet" href="../../js/select2.min.css?1573747283" media="all" />
    <link rel="stylesheet" href="../../js/swipebox/src/css/swipebox.css?1573747283" media="all" />

    <!-- Begin Pattern Lab (Required for Pattern Lab to run properly) -->
    <!-- never cache patterns -->
<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
<meta http-equiv="pragma" content="no-cache" />

<link rel="stylesheet" href="../../styleguide/css/styleguide.min.css?1573747283" media="all">
<link rel="stylesheet" href="../../styleguide/css/prism-typeahead.min.css?1573747283" media="all" />
    <!-- End Pattern Lab -->

  </head>
  <body class="">
    <!-- for js not found errors (only in styleguide)-->
  	<div class="visually-hidden">
  		<div id="tabs" class="tabs"></div>
  	</div>
<a name="npm-start" id="npm-start"></a>

<div class="doc-text">
	<div class="doc-section">
		<h4 class="doc-section-title">NPM & Node.js</h4>
		<div class="doc-section-inner">
			<p><a href="https://www.npmjs.com/" target="_blank">NPM</a> is used to install small packages of code that run site tasks. These are very small configuration scripts defined in a package.json file and run through the command line. The big advantage of npm scripts is that you are always up to date. If a package is updated, the run script will automatically use the updated version (unless specified otherwise).</p>
			<p>NPM modules are defined in the package.json as dependencies and are fetched and installed by <a href="https://nodejs.org/en/" target="_blank">Node.js</a>, which is a javascript based run-time builder. NPM Scripts in the package.json define tasks for those node modules.</p>
		</div>
	</div>
	<div class="doc-section">
		<h4 class="doc-section-title">Task Runners</h4>
		<div class="doc-section-inner">
			<p><a href="https://gulpjs.com/" target="_blank">Gulp</a> and <a href="https://gruntjs.com/" target="_blank">Grunt</a> are common task runners. that function very similar to NPM scripts and either can be used on its own, or in combination with NPM scripts to run theme tasks.</p>
			<p>Citizen Patterns takes advantage of both NPM and Gulp in order to power the theme tasks. Gulp allows use to specify unique tasks that expand npm modules installed by the theme. CRunning those tasks from a single npm command allows us to concurrently run different tasks without having to enter and re-enter multiple Gulp commands.</p>
		</div>
	</div>
	<div class="doc-section">
		<h4 class="doc-section-title">Citizen Patterns NPM Start</h4>
		<div class="doc-section-inner">
			<p>After install (install instructions in theme ReadMe), Citizen Patterns is run using a single command line command: <strong>npm start</strong> run in the theme root folder. NPM Start kicks off these Gulp tasks:
			<ol>
				<li>Gulp Clean</li>
				<li>Gulp Compile</li>
				<li>Gulp Theme</li>
			</ol>
			<p>These Gulp tasks are set in the Emulsify-Gulp gulp task collection fetched as a node module from the <a href="https://github.com/fourkitchens/emulsify-gulp" target="_blank">Four Kitchen's Emulsify Gulp repo</a> when the theme is first installed. All tasks set in the default Emulsify-Gulp repo index.js file which constructs tasks from the repo's gulp-config file that can be overridden or disabled in the local.gulp-config.js file in the theme root. New gulp tasks can also be set in the local-config file and added via the npm start command.</p>
			<p><strong>Gulp Clean—</strong> Gulp Clean runs the Scss and ES Lint linting.</p>
			<p><strong>Gulp Compile—</strong> Gulp Compile finds the individual icons in theme/images/icons/src and compiles them into a single sprite then builds selector classes and mixins that set the proper background position for each icon. Icon base size (80px x 80px)is set in the local.gulp-config override for this task.</p>
			<p><strong>Gulp Theme—</strong> Gulp Theme calls the Gulp Serve task defined in the Emulsify Gulp repo's index.js file which runs the Sass & JS Compiler's, runs the Sass to Yml conversion (for colors), watches all the pattern lab files for changes and runs the browser sync, and finally builds the local pattern lab.</p>
			<p>Emulsify Gulp also has options for Web Speed Tests and Build/Deploy functions for GH Pages, but OC Patterns is not using those at this time.</p>
		</div>
	</div>
</div>


  <!--DO NOT REMOVE-->
  <script type="text/json" id="sg-pattern-data-footer" class="sg-pattern-data">
  {"cssEnabled":false,"lineage":[],"lineageR":[],"patternBreadcrumb":{"patternType":"documentation","patternSubtype":"running the theme"},"patternDesc":"","patternExtension":"twig","patternName":"npm start","patternPartial":"documentation-npm-start","patternState":"","extraOutput":[]}
</script>

<script>
  /*!
  * scriptLoader - v0.1
  *
  * Copyright (c) 2014 Dave Olsen, http://dmolsen.com
  * Licensed under the MIT license
  *
  */
  
  var scriptLoader = {
    run: function(js,cb,target) {
      var s  = document.getElementById(target+'-'+cb);
      for (var i = 0; i < js.length; i++) {
        var src = (typeof js[i] != 'string') ? js[i].src : js[i];
        var c   = document.createElement('script');
        c.src   = '../../'+src+'?'+cb;
        if (typeof js[i] != 'string') {
          if (js[i].dep !== undefined) {
            c.onload = function(dep,cb,target) {
              return function() {
                scriptLoader.run(dep,cb,target);
              }
            }(js[i].dep,cb,target);
          }
        }
        s.parentNode.insertBefore(c,s);
      }
    }
  }
</script>

<script id="pl-js-polyfill-insert-1573747283">
  (function() {
    if (self != top) {
      var cb = '1573747283';
      var js = [];
      if (typeof document !== 'undefined' && !('classList' in document.documentElement)) {
        js.push('styleguide/bower_components/classList.min.js');
      }
      scriptLoader.run(js,cb,'pl-js-polyfill-insert');
    }
  })();
</script>

<script id="pl-js-insert-1573747283">
  (function() {
    if (self != top) {
      var cb = '1573747283';
      var js = [ { 'src': 'styleguide/bower_components/jwerty.min.js', 'dep': [ 'styleguide/js/patternlab-pattern.min.js' ] } ];
      scriptLoader.run(js,cb,'pl-js-insert');
    }
  })();
</script>

  <!-- Drupal-specific files - UNCOMMENT AS NECESSARY -->
  <!-- may need to change these below based on path -->
  <script src="../../js/ready.min.js"></script>
  <script src="../../js/drupal.js"></script>
  <script src="../../js/underscore-min.js"></script>
  <script src="../../js/jquery.js"></script>
  <script src="../../js/jquery.once.min.js"></script>
  <script src="../../js/select2.min.js"></script>
  <script src="../../js/stacktable/stacktable.min.js"></script>
  <script src="../../js/swipebox//src/js/jquery.swipebox.js"></script>
  <script src="../../../../dist/scripts-styleguide.js"></script>
  <script>Drupal.attachBehaviors();</script>
  <script>
    $("select").once('selects').each(function(){  
        $( '.sg-pattern-example select' ).select2({
          placeholder: "Select an option"
        });
    });
  </script>

  <script>
    $(".node--type-landing_page select").once('landing_select').each(function(){  
        $(this).select2();
    });
  </script>

  <script>
    $(".text-long table").once('stack').each(function(){  
        $(this).cardtable({myClass:'responsive-table'});
        $(document).ajaxComplete(function() {
            $('.layout-container table').cardtable({myClass:'responsive-table'});
        });
    });
  </script>
  </body>
</html>
